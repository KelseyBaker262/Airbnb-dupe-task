__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){switch(document.visibilityState){case'visible':return 1;case'hidden':return 2;case'prerender':return 3;default:return 4}}}),"1140d4",[]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(t){const c=t<0?-1:1,n=1/(1+.3275911*(t=Math.abs(t)));return c*(1-n*(.254829592+n*(n*(1.421413741+n*(1.061405429*n-1.453152027))-.284496736))*Math.exp(-t*t))}function c(c,n,f){const o=Math.log(c),u=Math.log(n/c),s=Math.sqrt(1-3*u-Math.sqrt((u-3)*(u-3)-8))/2;return(1-t((Math.log(f)-o)/(Math.SQRT2*s)))/2}function n({ttfcp:t,ttfmp:n,tbt:f,fid:o,cls:u}){return{ttfcp:c(2500,.08491351406,t||0),ttfmp:c(3e3,244.5719961,n||0),fid:c(170,.6089337333,o||0),tbt:c(1250,167.2687485,f||0),cls:c(.15,1.889923697e-7,u||0)}}Object.defineProperty(e,"__esModule",{value:!0}),e.calculatePagePerformanceScore=function(t){const c=n(t);return.35*c.ttfcp+.15*c.ttfmp+.3*c.fid+.15*c.tbt+.05*c.cls}}),"27c072",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HYDRATE_PERFORMANCE_HOC_MARK=e.HYDRATE_MEANINGFUL_ELEMENT_MARK=e.FMP_TARGET_ID=void 0;e.FMP_TARGET_ID='FMP-target';e.HYDRATE_MEANINGFUL_ELEMENT_MARK='hydrate-meaningful-element';e.HYDRATE_PERFORMANCE_HOC_MARK='hydrate-performance-hoc'}),"364f02",[]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return u.default.get('china-guest-loop')};var u=t(r(d[1]))}),"491401",["ba7a76","0a58da"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({resources:t,universalPageName:u}){if(0===t.length||t.length>0&&void 0===t[0].decodedBodySize)return;const h=['link','img','css','script','other'],l=[{type:'css',initiatorList:['link'],regex:/^.+(muscache|localhost).+\.css(\?.*)?$/},{type:'img',initiatorList:['img','css','link'],regex:/^.+(muscache|localhost).+(jpg|jpeg|png|gif|webp)(\?.*)?$/},{type:'js',category:'airbnb',initiatorList:['link','script'],regex:/^.+(muscache|localhost).+\.m?(js|bundle)(\?.*)?$/},{type:'js',category:'third_party',initiatorList:['link','script'],regex:/^((?!(muscache|localhost)).)*\.m?js(\?.*)?$/},{type:'font',initiatorList:['link','css','other'],regex:/^.+(muscache|localhost).+\.woff2(\?.*)?$/}],f={css:{...n},js:{airbnb:{...n},third_party:{...n}},img:{...n},font:{...n}},y=[],_=o.default.getBootstrap('instrument_search_results_images');t.filter((({initiatorType:t})=>h.includes(t))).forEach((({duration:t,name:o,initiatorType:n,decodedBodySize:h,transferSize:p,encodedBodySize:b})=>{l.find((({type:l,initiatorList:j,regex:z,category:v})=>{if(j.includes(n)&&o.match(z)){const n=v?f[l][v]:f[l];if(_&&'img'===l&&2e3===u&&Math.random()<=c){const n=(0,s.createJitneyPropsForImageResource)({duration:t,encodedBodySize:b,name:o,transferSize:p});n&&y.push(n)}const j=n.count*n.cache_hit_ratio+(0===p?1:0);return n.count+=1,n.cache_hit_ratio=j?j/n.count:0,n.transfer_size+=p,n.encodedbody_size+=b,n.decodedbody_size+=h,!0}return!1}))})),f.css=f.css?.count?f.css:void 0,f.js?.airbnb?.count?0===f.js?.third_party?.count&&(f.js.third_party.cache_hit_ratio=1):f.js=void 0;f.img=f.img?.count?f.img:void 0,f.font=f.font?.count?f.font:void 0,_&&y.length&&(0,s.sendJitneyEventsForImages)(y);if(!Object.values(f).find((t=>!!t)))return;return f};var o=t(r(d[1])),s=r(d[2]);const n={transfer_size:0,encodedbody_size:0,decodedbody_size:0,count:0,cache_hit_ratio:0},c=.001}),"5ba13b",["ba7a76","c235f8","be6c80"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;function n(){const t=r(d[1]);return n=function(){return t},t}function s(){const t=r(d[2]);return s=function(){return t},t}function o(){const t=r(d[3]);return o=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[4])),c=r(d[5]),h=r(d[6]),p=t(r(d[7])),l=t(r(d[8])),f=r(d[9]),P=t(r(d[10])),v=t(r(d[11])),R=t(r(d[12]));function _(t){if(!t)return;return Object.keys(o().PageName).find((n=>o().PageName[n]===t))}function w(t){if(null==t)return null;return t.reduce(((t,n)=>t.duration>n.duration?t:n),t[0])}var C=new class{constructor({isResetPageEventsEnabled:t,trackingModule:o}){this.trackingModule=void 0,this.performanceRecorders=[],this.ignorePathnameUpdate=void 0,this.includeHistoryUpdate=void 0,this.nextPageCreatedAt=void 0,this.resetPageEvents=void 0,this.pauseInfo={pauseStart:0,pauseDuration:0,pausePending:!1},this.currentPathname='',this.currentSearch='',this.setReadMetricsFromPerformanceRecorder=()=>{window.__readMetricsFromPerformanceRecorder=()=>this.performanceRecorders.map((t=>{if(!t.isRecorderLoggable)return;const n=_(t.universalPageName),s=_(t.subPageName),o=(0,R.default)({resources:t.recorderResults.resources,universalPageName:t.universalPageName}),u={...t.readCalculatedMetrics(),ttfcp:t.recorderResults.ttfcp,ttfmp:t.recorderResults.ttfmp,ttlcp:t.recorderResults.ttlcp,fid:t.recorderResults.fid,inp:t.recorderResults.inp,timeToFid:t.recorderResults.timeToFid,cls:t.recorderResults.cumulativeLayoutShift,lcp:t.recorderResults.lcp,createdAt:t.createdAt,pageRequestMethod:t.pageRequestMethod,cumulativeLayoutShiftEntries:t.recorderResults.cumulativeLayoutShiftEntries,inpInteractionEvents:t.recorderResults.inpInteractionEvents,assetSizes:o},c=(0,f.calculatePagePerformanceScore)(u);return{...u,pageName:n,subPageName:s,score:c}})).filter((t=>!!t)),window.__ppsDebug=window.__ppsDebug||{},window.__ppsDebug.getInpEventTiming=()=>{const t=this.performanceRecorders[this.performanceRecorders.length-1];return t?w(t.recorderResults.inpInteractionEvents):null}},this.updateCurrentRecorderWithHOCProps=t=>{const s=this.performanceRecorders[this.performanceRecorders.length-1];s&&(s.universalPageName=t.universalPageName,s.subPageName=t.subPageName,s.impressionUuid=t.impressionUuid,s.eventData=t.eventData,s.eventDataSchema=t.eventDataSchema,s.isDirectRequest||s.setTtfcpClientFromTimestamp(t.timestampOfFCP),s.isRecorderLoggable&&l.default.getBootstrap('web_pps_leading_event_enabled')&&this.trackingModule?.queueJitneyEvent({schema:n().PerformanceWebPageLeadingEvent,event_data:{universal_page_name:s.universalPageName,subpage_name:s.subPageName,page_request_method:s.pageRequestMethod,impression_uuid:s.impressionUuid,domain_and_path:s.domainAndPath,event_data:JSON.stringify(s.eventData||''),event_data_schema:JSON.stringify(s.eventDataSchema||'')}}))},this.handleNewHistory=t=>{t.listen(this.onHistoryChange)},this.setIgnorePathnameUpdate=t=>{this.ignorePathnameUpdate=t},this.clearIgnorePathnameUpdate=()=>{this.ignorePathnameUpdate=void 0},this.setIncludeHistoryUpdate=t=>{this.includeHistoryUpdate=t},this.clearIncludeHistoryUpdate=()=>{this.includeHistoryUpdate=void 0},this.startNextPageTimer=()=>{this.nextPageCreatedAt=(0,p.default)().now(),this.pauseInfo.pausePending=!1,this.pauseInfo.pauseStart=0,this.pauseInfo.pauseDuration=0},this.pauseNextPageTimer=()=>{this.pauseInfo.pausePending=!0,this.pauseInfo.pauseStart=(0,p.default)().now()},this.resumeNextPageTimer=()=>{this.pauseInfo.pausePending?(this.pauseInfo.pausePending=!1,this.pauseInfo.pauseDuration+=(0,p.default)().now()-this.pauseInfo.pauseStart,this.pauseInfo.pauseStart=0):(0,c.airdogCount)('page_transition_coordinator.page_timer.error',1,['error:pause',`pathname:${window.location.pathname}`])},this.createNewRecorder=({isDirectRequest:t,isBFCache:n})=>{const s=this.performanceRecorders[this.performanceRecorders.length-1];s&&s.retire();const o=this.getNextPageCreatedAt();this.performanceRecorders.push(new P.default({isDirectRequest:t,pageCreatedAt:o,isBFCache:n}))},this.getNextPageCreatedAt=()=>{let t;return this.nextPageCreatedAt&&this.pauseInfo.pauseDuration?t=this.nextPageCreatedAt+this.pauseInfo.pauseDuration:this.pauseInfo.pausePending?((0,c.airdogCount)('page_transition_coordinator.page_timer.error',1,['error:resume',`pathname:${window.location.pathname}`]),t=this.nextPageCreatedAt):this.nextPageCreatedAt&&(t=this.nextPageCreatedAt),this.nextPageCreatedAt=void 0,t},this.onHistoryChange=(t,n)=>{const s=t.pathname,o=t.search;this.isPageTransition({action:n,prevPathname:this.currentPathname,prevSearch:this.currentSearch,nextPathname:s,nextSearch:o})&&(this.flushAllEvents({triggeringAction:n}),'BACK_FORWARD_CACHE'===n?this.createNewRecorder({isDirectRequest:!1,isBFCache:!0}):this.createNewRecorder({isDirectRequest:!1})),this.currentPathname=s,this.currentSearch=o},this.isPageTransition=t=>{const{action:n,prevPathname:s,nextPathname:o}=t;return'BACK_FORWARD_CACHE'===n||('function'==typeof this.includeHistoryUpdate?this.includeHistoryUpdate(t):!(!s||!o)&&(s!==o&&(('function'!=typeof this.ignorePathnameUpdate||!this.ignorePathnameUpdate({prevPathname:s,nextPathname:o,action:n}))&&['POP','PUSH','REPLACE'].includes(n))))},this.flushAllEvents=({triggeringAction:t}={})=>{(0,h.isBot)()||(this.performanceRecorders.forEach((n=>{if(n.retired||n.retire(),!n.isRecorderLoggable)return;const{problems:o,warnings:u}=n.getDataProblems();'REPLACE'!==t||n.recorderResults.fid||u.push('probable-redirect');const h=[`pathname:${window.location.pathname}`,`pagename:${_(n.universalPageName)}`,`subpage_name:${_(n.subPageName)}`,`page_request_method:${n.pageRequestMethod}`];u.length>0&&(0,c.airdogCount)('page_transition_coordinator.data.warning',1,['error:data-warning',...h,...u.map((t=>`warning_${t}:true`))]),o.length>0?(0,c.airdogCount)('page_transition_coordinator.data.error',1,['error:data-problems',...h,...o.map((t=>`problem_${t}:true`))]):this.trackingModule?.queueJitneyEvent({schema:s().PerformanceWebPageMetricsEvent,event_data:(0,v.default)(n)})})),this.performanceRecorders=[],this.trackingModule?.getLogger().flushEventQueue())},this.setPageCloseHandlers=()=>{window.addEventListener('beforeunload',(()=>this.flushAllEvents()),!0),window.addEventListener('visibilitychange',(()=>{'hidden'===document.visibilityState&&this.flushAllEvents()})),window.addEventListener('pagehide',(t=>{((0,h.isSafari)()||t.persisted)&&this.flushAllEvents()}))},this.currentPathname=window.location.pathname,this.currentSearch=window.location.search,this.resetPageEvents=t??!0,this.createNewRecorder({isDirectRequest:!0}),this.trackingModule=o,this.setPageCloseHandlers(),this.listenForPageShow(),this.setReadMetricsFromPerformanceRecorder()}listenForPageShow(){window.addEventListener('pageshow',(t=>{t.persisted&&this.onHistoryChange(window.location,'BACK_FORWARD_CACHE')}))}}({trackingModule:u.default});e.default=C}),"5c13fa",["ba7a76","9b06d8","de1f95","fe2f48","c8b97a","3e4681","e9b7bf","5d602b","c235f8","27c072","7fa87b","6614c9","5ba13b"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(t){if(!t)return;const{nodeName:n,parentElement:s}=t;let o,l;if(t.nodeType===Node.ELEMENT_NODE){const n=t;o=n.className,l=n.id}return JSON.stringify({nodeName:n,className:o,id:l,parentElement:s&&{nodeName:s.nodeName,className:s.className,id:s.id}})}function n(t){return{interactivity_spans:t.recorderResults.interactivitySpans.map((t=>({duration:t.duration,name:t.name,long_task_durations:t.longTaskDurations,number_of_blocking_tasks:t.numberOfBlockingTasks,tbt:t.totalBlockingTime,longest_blocking_time:t.longestBlockingTime}))),interaction_categories:Object.entries(t.recorderResults.interactionCategories).reduce(((t,[n,s])=>({...t,[n]:{tbt_per_second:s.totalBlockingTimePerSecond,number_of_blocking_tasks_per_second:s.numberOfBlockingTasksPerSecond,min_frame_drops_per_second:s.minFrameDropsPerSecond,count:s.count,duration:s.duration}})),{})}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(s){const o=t(s.recorderResults.lcpTarget),l=t(s.recorderResults.ttfmpTarget),c=t(s.recorderResults.ttlcpTarget),{alt:u,ttlcp:_}=s.recorderResults,p=n(s);return{assets:s.recorderResults.assets,page_request_method:s.pageRequestMethod,universal_page_name:s.universalPageName,subpage_name:s.subPageName,impression_uuid:s.impressionUuid,ttfcp:s.recorderResults.ttfcp,ttfmp:s.recorderResults.ttfmp,ttlcp:s.recorderResults.ttlcp??s.recorderResults.ttfcp,fid:s.recorderResults.fid,inp:s.recorderResults.inp,tbt:s.recorderResults.totalBlockingTime,interaction_hangs:s.recorderResults.interactionHangs,interaction_duration:s.recorderResults.interactionDuration,event_data:s.eventData,event_data_schema:s.eventDataSchema,domain_and_path:s.domainAndPath,network_information:s.networkInformation,web_performance_timing:s.recorderResults.webPerformanceTiming,tbt_pre_hydrate:s.recorderResults.tbtPreHydrate,tbt_post_hydrate:s.recorderResults.tbtPostHydrate,time_to_hydrate:s.recorderResults.timeToHydrate,recorder_duration:s.recorderResults.recorderDuration,time_to_fid:s.recorderResults.timeToFid,number_of_blocking_tasks:s.recorderResults.numberOfBlockingTasks,number_of_long_input_delays:s.recorderResults.numberOfLongInputDelays,total_duration_of_long_input_delays:s.recorderResults.totalDurationOfLongInputDelays,long_input_delays:s.recorderResults.longInputDelays,long_input_delay_counts:s.recorderResults.longInputDelayCounts,timed_interactions:s.recorderResults.timedInteractions,longest_blocking_time:s.recorderResults.longestBlockingTime,longest_blocking_task_index:s.recorderResults.longestBlockingTaskIndex,cumulative_layout_shift:s.recorderResults.cumulativeLayoutShift,lcp:s.recorderResults.lcp,...p,document_age:s.recorderResults.documentAge,inline_stylesheet_rules:s.recorderResults.inlineStylesheetRules,external_stylesheet_rules:s.recorderResults.externalStylesheetRules,is_dev:s.isDev,navigation_type:s.navigationType,metadata:{...o&&{lcpTarget:o},...c&&{ttlcpTarget:c},...l&&{ttfmpTarget:l},...'number'==typeof u&&{alt:String(u)},cumulativeLayoutShiftEntries:JSON.stringify(s.recorderResults.cumulativeLayoutShiftEntries),...'number'==typeof _&&{ttlcpRaw:String(_)},react_upgrade:"true",...s.recorderResults.inpContainingElement&&{inp_containing_element:s.recorderResults.inpContainingElement}}}},e.serializeNode=t}),"6614c9",[]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.getNetworkInformation=function(){if(window.navigator&&window.navigator.connection){const{connection:t}=window.navigator;return{effective_type:t.effectiveType,rtt:t.rtt,downlink:t.downlink}}return},e.getWWWCdnProvider=function(){return{www_cdn_provider:n.default.get('wwwCdnProvider')||'Unknown'}},e.getWebPerformanceTiming=function(){if(window.performance&&window.performance.timing){const{navigationStart:t,redirectStart:n,redirectEnd:_,fetchStart:o,domainLookupStart:s,domainLookupEnd:c,connectStart:v,connectEnd:w,secureConnectionStart:u,requestStart:f,responseStart:p,responseEnd:l,domLoading:E,domInteractive:S,domContentLoadedEventStart:k,domContentLoadedEventEnd:C,domComplete:L,loadEventStart:P,loadEventEnd:W}=window.performance.timing;return{navigation_start_timestamp_in_ms:t,time_to_redirect_start_in_ms:n,time_to_redirect_end_in_ms:_,time_to_fetch_start_in_ms:o,time_to_domain_lookup_start_in_ms:s,time_to_domain_lookup_end_in_ms:c,time_to_connect_start_in_ms:v,time_to_connect_end_in_ms:w,time_to_secure_connection_start_in_ms:u,time_to_request_start_in_ms:f,time_to_response_start_in_ms:p,time_to_response_end_in_ms:l,time_to_dom_loading_in_ms:E,time_to_dom_interactive_in_ms:S,time_to_dom_content_loaded_event_start_in_ms:k,time_to_dom_content_loaded_event_end_in_ms:C,time_to_dom_complete_in_ms:L,time_to_load_event_start_in_ms:P,time_to_load_event_end_in_ms:W}}};var n=t(r(d[1]))}),"697349",["ba7a76","0a58da"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.getPageRequestMethod=function(t){return c().then((t=>{if(!t)return!1;const o=g.window&&(0,s.default)();if(!o||!o.getEntriesByType)return!1;const c=o.getEntriesByType('navigation');if(!c||0===c.length)return n.default.get('isServiceWorkerAppShell');const l=c[0].serverTiming;if(!l||0===l.length)return!1;const u=l.filter((t=>'serviceWorker'===t.name));return u.length>0})).catch((()=>!1)).then((n=>t?Promise.resolve(2):n?Promise.resolve(4):1===l?Promise.resolve(5):Promise.resolve(1)))};var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3]));function c(){const{navigator:t}=window;return void 0===t?Promise.resolve(!1):'serviceWorker'in t&&t.serviceWorker.getRegistration?t.serviceWorker.getRegistration('/').then((t=>!(!t||!t.active))).catch((()=>!1)):Promise.resolve(!1)}let l;!(function(){if((0,o.default)())return;const t=g.window&&(0,s.default)();let n=3;if(t&&t.getEntriesByType){const o=t.getEntriesByType('navigation');if(o&&o.length>0){const t=o[0].serverTiming?.find((t=>'cdn-cache'===t.name));'HIT'===t?.description?n=1:'MISS'!==t?.description&&'NO-STORE'!==t?.description||(n=2)}}l=n})()}),"6f10f0",["ba7a76","0a58da","491401","5d602b"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default,s=r(d[1]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(r(d[2])),o=t(r(d[3])),c=r(d[4]),l=r(d[5]),h=s(r(d[6])),u=r(d[7]),p=r(d[8]),f=r(d[9]),v=r(d[10]),y=r(d[11]),T=s(r(d[12])),R=r(d[13]),b=r(d[14]),L=r(d[15]);const O='CSR_PAGE_START',I=new Set(['click','input','keypress']),P=[b.InteractivitySpanName.MOWEB_MAP_USER_INTERACTION,b.InteractivitySpanName.DESKTOP_MAP_USER_INTERACTION,b.InteractivitySpanName.SCROLL];class S{constructor({isDirectRequest:t,pageCreatedAt:s,isBFCache:E}){this.isRecorderLoggable=!0,this.networkInformation=(0,f.getNetworkInformation)(),this.initialVisibilityState=(0,h.default)(),this.isDirectRequest=void 0,this.isClientSideRequest=void 0,this.isBFCache=void 0,this.performance=(0,o.default)(),this.createdAt=void 0,this.pageRequestMethod=1,this.domainAndPath=`${window.location.host}${window.location.pathname}`,this.recorderController=void 0,this.recorderResults={assets:{},cumulativeLayoutShiftEntries:[],interactionCategories:{},interactivitySpans:[],longInputDelayCounts:[],longInputDelays:[],longTasks:[],numberOfLongInputDelays:0,resources:[],timedInteractions:[],totalDurationOfLongInputDelays:0},this.paintObserver=void 0,this.longTaskObserver=void 0,this.inputDelayObserver=void 0,this.timedInteractionObserver=void 0,this.resourcesObserver=void 0,this.clsObserver=void 0,this.lcpObserver=void 0,this.retired=!1,this.isDev=!1,this.universalPageName=void 0,this.subPageName=void 0,this.impressionUuid=void 0,this.eventData=void 0,this.eventDataSchema=void 0,this.navigationType=void 0,this.showLogs=(0,c.getTreatmentOverride)('pps'),this.retire=async()=>{this.retired||(this.retired=!0,void 0===this.recorderResults.ttfcp&&(this.isRecorderLoggable=!1),this.cleanUpLongTasks(),this.cleanupLongInputDelayObserver(),this.cleanupTimedInteractionObserver(),this.cleanUpResources(),this.cleanUpClsObserver(),this.cleanUpPaintObserver(),this.cleanUpLcpObserver(),this.cleanupScrollHangs(),this.recordStylesheetRuleLength(),this.recorderResults.recorderDuration=this.performance.now()-this.createdAt,this.recorderResults.timeToHydrate=this.calculateTimeToHydrate(),this.hasNecessaryPolyfills()&&(window.perfMetrics.stopSearchingForFirstMeaningfulPaint(),window.perfMetrics.stopSearchingForLargestContentfulPaint?.()),this.recorderController?.abort(),this.recorderController=void 0)},this.getDataProblems=()=>{const{ttfcp:t}=this.recorderResults,s=[];return t&&t<0&&s.push('ttfcp-negative'),t&&t>6e4&&s.push('ttfcp-exceeds-60s'),{problems:s,warnings:[]}},this.readCalculatedMetrics=()=>{const t=this.calculateTimeToHydrate();return{tbt:(0,v.calculateTotalBlockingTime)(this.recorderResults),tbtPreHydrate:(0,v.calculateTbtPreHydrate)(this.recorderResults,t),tbtPostHydrate:(0,v.calculateTbtPostHydrate)(this.recorderResults,t),timeToHydrate:t,numberOfBlockingTasks:(0,v.calculateNumberOfBlockingTasks)(this.recorderResults),longestBlockingTime:(0,v.calculateLongestBlockingTaskIndex)(this.recorderResults),longestBlockingTaskIndex:(0,v.calculateLongestBlockingTaskIndex)(this.recorderResults),...(0,y.isALTEnabled)()&&{alt:(0,y.calculateAdditionalLoadTime)(this.recorderResults.resources,this.recorderResults.ttfcp)}}},this.gatherMetrics=()=>{this.isDirectRequest&&this.observeFCP(),this.listenForLCP(),this.listenForLongTasks(),this.listenForCLS(),this.listenForResources(),this.listenForLongInputDelays(),this.listenForTimedInteractions(),this.listenForScrollHangs(),this.recorderResults.webPerformanceTiming={...(0,f.getWWWCdnProvider)(),...this.isDirectRequest&&(0,f.getWebPerformanceTiming)()}},this.gatherPolyfilledMetrics=()=>{if(this.listenForFMP(),this.listenForFID(),this.listenForINP(),this.isBFCache){const t=this.performance.now();requestAnimationFrame((()=>{requestAnimationFrame((()=>{this.recorderResults.ttlcp=this.performance.now()-t}))}))}else this.listenForTTLCP()},this.observeFCP=()=>{if(!this.isClientSideRequest&&this.supportsPerformanceObserverWithType('paint'))try{this.paintObserver=new PerformanceObserver((t=>{t.getEntries().forEach(this.setTtfcpDirectFromEntry)})),this.paintObserver.observe({type:'paint',buffered:!0}),(0,l.isWebSafari)()&&this.performance.getEntriesByType('paint').forEach(this.setTtfcpDirectFromEntry)}catch(t){}},this.setTtfcpDirectFromEntry=t=>{'first-contentful-paint'===t.name&&(this.setTtfcpClientFromTimestamp(t.startTime),this.showLogs&&this.consoleLogMetrics())},this.cleanUpPaintObserver=()=>{this.paintObserver&&('function'==typeof this.paintObserver.takeRecords&&this.paintObserver.takeRecords().forEach(this.setTtfcpDirectFromEntry),this.paintObserver.disconnect())},this.setTtfcpClientFromTimestamp=t=>{this.retired||this.recorderResults.ttfcp||(this.recorderResults.ttfcp=t-this.createdAt,this.isClientSideRequest&&(this.performance.mark('TTFCP_END'),this.performance.measure('TTFCP',O,'TTFCP_END')),this.showLogs&&this.consoleLogMetrics())},this.listenForFMP=()=>{this.retired||(this.isClientSideRequest&&window.perfMetrics.startSearchingForFirstMeaningfulPaint(),window.perfMetrics.onFirstMeaningfulPaint(this.setTTFMP))},this.setTTFMP=t=>{this.retired||(this.recorderResults.ttfmp=t-this.createdAt,this.recorderResults.ttfmpTarget=document.getElementById(R.FMP_TARGET_ID),this.showLogs&&this.consoleLogMetrics())},this.listenForTTLCP=()=>{this.retired||(this.isClientSideRequest?window.perfMetrics.startSearchingForLargestContentfulPaint?.():(window.perfMetrics.stopPollingForLargestContentfulPaint?.(),window.perfMetrics.markIsHydratedForLargestContentfulPaint?.()),window.perfMetrics.onLargestContentfulPaint?.(this.setTTLCP))},this.setTTLCP=(t,s)=>{if(this.retired)return;const n=Math.max(0,t-this.createdAt);this.recorderResults.ttlcp=n,this.recorderResults.ttlcpTarget=s,this.isClientSideRequest&&(this.performance.clearMeasures('TTLCP-candidate'),this.performance.measure('TTLCP-candidate',{start:'CSR_PAGE_START',duration:n})),this.showLogs&&this.consoleLogMetrics()},this.listenForFID=()=>{window.perfMetrics.clearFirstInputDelay(),window.perfMetrics.onFirstInputDelay(this.setFID)},this.setFID=(t,s)=>{if(this.retired)return;this.recorderResults.fid=t;const n=s.timeStamp-this.createdAt;n>=0&&(this.recorderResults.timeToFid=n),this.showLogs&&this.consoleLogMetrics()},this.listenForINP=()=>{window.perfMetrics.clearInp?.(),window.perfMetrics.onInp?.(this.setINP)},this.setINP=(t,s)=>{this.retired||(this.recorderResults.inp=t,this.recorderResults.inpInteractionEvents=s,this.recorderResults.inpContainingElement=(0,L.getInpContainingElement)(s),this.showLogs&&this.consoleLogMetrics())},this.listenForTimedInteractions=()=>{if(this.supportsPerformanceObserverWithType('element')){this.cleanupTimedInteractionObserver(),this.timedInteractionObserver=new PerformanceObserver((t=>{S.lastInputDelayEvent&&(t.getEntries().forEach((t=>{this.recordTimedInteraction(t)})),S.lastInputDelayEvent=void 0)}));try{this.timedInteractionObserver.observe({type:'element',buffered:this.isDirectRequest})}catch{}}},this.recordTimedInteraction=t=>{const s=S.lastInputDelayEvent;if(!s)return;const{element:n,identifier:o,name:c,renderTime:l}=t,h={element_type:'image-paint'===c?'image':'text',identifier_type:o,previous_target_ancestor_section_id:s.target_ancestor_section_id,start_time:s.start_time,target_ancestor_section_id:this.findAncestorSectionId(n),total_time:Math.round(l-s.start_time)};this.recorderResults.timedInteractions.push(h)},this.cleanupTimedInteractionObserver=()=>{if(!this.timedInteractionObserver)return;'function'==typeof this.timedInteractionObserver.takeRecords&&this.timedInteractionObserver.takeRecords();const{timedInteractions:t}=this.recorderResults;this.recorderResults.timedInteractions=t.slice(0,20),this.timedInteractionObserver.disconnect()},this.listenForLongInputDelays=()=>{if(this.supportsPerformanceObserverWithType('event')){this.inputDelayObserver=new PerformanceObserver((t=>{let s;t.getEntries().forEach((t=>{this.recordLongInputDelay(t),I.has(t.name)&&(s=t)})),s&&(S.lastInputDelayEvent=this.createLongInputRecord(s))}));try{this.inputDelayObserver.observe({type:'event',buffered:this.isDirectRequest})}catch{}}},this.createLongInputRecord=t=>{const{duration:s,name:n,processingEnd:o,processingStart:c,startTime:l,target:h}=t,u=c-l;return{input_delay:Math.round(u),input_duration:s,event_type:n,start_time:Math.round(l),target_ancestor_section_id:this.findAncestorSectionId(h),total_time:Math.round(o-l)}},this.recordLongInputDelay=t=>{const{name:s,processingStart:n,startTime:o}=t;if(!I.has(s))return;if(n-o<100)return;const c=this.createLongInputRecord(t);this.recorderResults.longInputDelays.push(c)},this.cleanupLongInputDelayObserver=()=>{if(!this.inputDelayObserver)return;'function'==typeof this.inputDelayObserver.takeRecords&&this.inputDelayObserver.takeRecords();let t=0;const s=new Map;this.recorderResults.longInputDelays.forEach((({event_type:n,total_time:o})=>{t+=o;let c=s.get(n);c||(c={event_count:0,total_duration:0,event_name:n},s.set(n,c)),c.event_count+=1,c.total_duration+=o})),this.recorderResults.longInputDelayCounts=Array.from(s.values()),this.recorderResults.numberOfLongInputDelays=this.recorderResults.longInputDelays.length,this.recorderResults.totalDurationOfLongInputDelays=t,this.recorderResults.longInputDelays=this.recorderResults.longInputDelays.sort(((t,s)=>s.total_time-t.total_time)).slice(0,20),this.inputDelayObserver.disconnect()},this.listenForLongTasks=()=>{if(this.supportsPerformanceObserverWithType('longtask'))try{this.longTaskObserver=new PerformanceObserver((t=>{this.recorderResults.longTasks.push(...t.getEntries())})),this.longTaskObserver.observe({type:'longtask',buffered:this.isDirectRequest})}catch(t){}},this.cleanUpLongTasks=()=>{this.longTaskObserver&&('function'==typeof this.longTaskObserver.takeRecords&&this.recorderResults.longTasks.push(...this.longTaskObserver.takeRecords()),this.recorderResults.totalBlockingTime=(0,v.calculateTotalBlockingTime)(this.recorderResults),this.showLogs&&this.consoleLogMetrics(),this.recorderResults.longestBlockingTime=(0,v.calculateLongestBlockingTime)(this.recorderResults),this.recorderResults.longestBlockingTaskIndex=(0,v.calculateLongestBlockingTaskIndex)(this.recorderResults),this.recorderResults.tbtPreHydrate=(0,v.calculateTbtPreHydrate)(this.recorderResults,this.calculateTimeToHydrate()),this.recorderResults.tbtPostHydrate=(0,v.calculateTbtPostHydrate)(this.recorderResults,this.calculateTimeToHydrate()),this.recorderResults.numberOfBlockingTasks=(0,v.calculateNumberOfBlockingTasks)(this.recorderResults),this.recorderResults.interactivitySpans=(0,b.getInteractivitySpans)({start:this.createdAt,end:this.performance.now()}).map((t=>({name:t.name,duration:t.end-t.start,...(0,v.calculateInteractivityMetricsInInterval)(this.recorderResults,t)}))),this.recorderResults.interactionCategories=(0,b.aggregateInteractivitySpans)(this.recorderResults.interactivitySpans),this.longTaskObserver.disconnect())},this.calculateTimeToHydrate=()=>{const t=[...this.performance.getEntriesByName(R.HYDRATE_PERFORMANCE_HOC_MARK),...this.performance.getEntriesByName(R.HYDRATE_MEANINGFUL_ELEMENT_MARK)].filter((t=>t.startTime>this.createdAt));if(0===t.length)return;return t.reduce(((t,s)=>t.startTime<s.startTime?t:s),t[0]).startTime-this.createdAt},this.listenForCLS=()=>{if(this.supportsPerformanceObserverWithType('layout-shift'))try{this.clsObserver=new PerformanceObserver(this.clsObserverCallback),this.recorderResults.cumulativeLayoutShift=0,this.clsObserver.observe({type:'layout-shift',buffered:this.isDirectRequest})}catch(t){}},this.clsObserverCallback=t=>{t.getEntries().forEach((t=>{t.hadRecentInput||(this.recorderResults.cumulativeLayoutShift=this.recorderResults.cumulativeLayoutShift||0,this.recorderResults.cumulativeLayoutShift+=t.value||0,this.recorderResults.cumulativeLayoutShiftEntries.push((0,p.getLayoutShfitDebugEntry)(t)),this.recorderResults.cumulativeLayoutShiftEntries.length>3&&this.recorderResults.cumulativeLayoutShiftEntries.sort(((t,s)=>t.value-s.value)).slice(2),this.showLogs&&this.consoleLogMetrics())}))},this.cleanUpClsObserver=()=>{this.clsObserver&&('function'==typeof this.clsObserver.takeRecords&&this.clsObserver.takeRecords(),this.clsObserver.disconnect())},this.scrollEndTimeout=void 0,this.documentScrollEventListener=()=>{this.scrollEndTimeout||(0,b.beginInteractivitySpan)(b.InteractivitySpanName.SCROLL),window.clearTimeout(this.scrollEndTimeout),this.scrollEndTimeout=setTimeout((()=>{this.scrollEndTimeout=void 0,(0,b.endInteractivitySpan)(b.InteractivitySpanName.SCROLL)}),50)},this.listenForScrollHangs=()=>{window.addEventListener('scroll',this.documentScrollEventListener,{passive:!0})},this.cleanupScrollHangs=()=>{window.removeEventListener('scroll',this.documentScrollEventListener,!1);const t=this.recorderResults.interactivitySpans.filter((t=>P.includes(t.name)));this.recorderResults.interactionDuration=t.reduce(((t,s)=>t+s.duration),0),this.recorderResults.interactionHangs=t.reduce(((t,s)=>t+s.totalBlockingTime),0),this.showLogs&&this.consoleLogMetrics()},this.listenForResources=()=>{if(this.supportsPerformanceObserverWithType('resource'))try{this.resourcesObserver=new PerformanceObserver((t=>{this.recorderResults.resources.push(...t.getEntries())})),this.resourcesObserver.observe({type:'resource',buffered:this.isDirectRequest})}catch(t){}},this.cleanUpResources=()=>{this.resourcesObserver&&('function'==typeof this.resourcesObserver.takeRecords&&this.recorderResults.resources.push(...this.resourcesObserver.takeRecords()),this.recorderResults.assets=(0,T.default)({resources:this.recorderResults.resources,universalPageName:this.universalPageName}),(0,y.isALTEnabled)()&&(this.recorderResults.alt=(0,y.calculateAdditionalLoadTime)(this.recorderResults.resources,this.recorderResults.ttfcp),(0,y.measureAdditionalLoadTime)(this.recorderResults.resources,this.recorderResults.ttfcp)),this.resourcesObserver.disconnect())},this.recordStylesheetRuleLength=()=>{let t=0,s=0;if(document.styleSheets){for(let n=0;n<document.styleSheets.length;n++)try{document.styleSheets[n].href?s+=document.styleSheets[n].rules.length:t+=document.styleSheets[n].rules.length}catch(t){}this.recorderResults.inlineStylesheetRules=t,this.recorderResults.externalStylesheetRules=s}},this.listenForLCP=()=>{if(!this.isClientSideRequest&&this.supportsPerformanceObserverWithType('largest-contentful-paint'))try{this.lcpObserver=new PerformanceObserver((t=>{t.getEntries().forEach(this.updateLCP)})),this.lcpObserver.observe({type:'largest-contentful-paint',buffered:!0})}catch(t){}},this.updateLCP=t=>{this.recorderResults.lcp=t.startTime,this.recorderResults.lcpTarget=t.element},this.cleanUpLcpObserver=()=>{this.lcpObserver&&('function'==typeof this.lcpObserver.takeRecords&&this.lcpObserver.takeRecords().forEach(this.updateLCP),this.lcpObserver.disconnect())},this.supportsPerformanceObserverWithType=t=>'undefined'!=typeof PerformanceObserver&&(!!PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes(t)),this.findAncestorSectionId=t=>{let s=null,n=t;for(;null===s&&n;)s=n.getAttribute('data-section-id')||n.getAttribute('data-testid'),n=n.parentElement;return s||void 0},this.hasNecessaryPolyfills=()=>!!window.perfMetrics,this.consoleLogMetrics=()=>{const{alt:t,cumulativeLayoutShift:s,fid:n,inp:o,interactionDuration:c,interactionHangs:l,lcp:h,totalBlockingTime:u,ttfcp:p,ttfmp:f,ttlcp:v}=this.recorderResults;console.log(`Page Performance Score metrics (air.bb/web-pps)\n\nPathname = %c${window.location.pathname}%c\n  Time To First Contentful Paint = ${this.prettyMetric({metric:p})}\n  Time To First Meaningful Paint = ${this.prettyMetric({metric:f})}\n  First Input Delay              = ${this.prettyMetric({metric:n,isFid:!0})}\n  Total Blocking Time            = ${this.prettyMetric({metric:u,isTbt:!0})}\n  Cumulative Layout Shift        = ${this.prettyMetric({metric:s,isCls:!0})}\n  \n  \n  \n  Experimental metrics\n  LCP                            = ${this.prettyMetric({metric:h})}\n  TTLCP                          = ${this.prettyMetric({metric:v??p})}\n  Interaction Duration           = ${this.prettyMetric({metric:c,isScH:!0})}\n  Interaction Hangs              = ${this.prettyMetric({metric:l,isScH:!0})}\n  Additional Load Time           = ${this.prettyMetric({metric:t,isAlt:!0})}\n  Interaction to Next Paint      = ${this.prettyMetric({metric:o,isInp:!0})}}`,'font-weight: bold;','')},this.prettyMetric=({metric:t,isFid:s,isTbt:n,isCls:o,isAlt:c,isScH:l,isInp:h})=>{let u='';return u=o?(t||0).toFixed(2):t?`${Math.round(t).toLocaleString()} ms`:'...',u=u.padStart(9,' '),s&&void 0===t&&(u=`${u} (click to see)`),h&&void 0===t&&(u=`${u} (background tab to calculate)`),n&&void 0===t&&(u=`${u} (background tab to calculate)`),c&&void 0===t&&(u=`${u} (background tab to calculate)`),l&&void 0===t&&(u=`${u} (background tab to calculate)`),u},this.isDirectRequest=t,this.isClientSideRequest=!t,this.isBFCache=!!E,this.navigationType=E?1:(0,o.getNavigationType)(),t?this.createdAt=0:(this.performance.mark(O,{startTime:s}),this.createdAt=s||this.performance.now()),2!==this.initialVisibilityState?((0,u.getPageRequestMethod)(this.isClientSideRequest).then((t=>{this.pageRequestMethod=t})),this.isClientSideRequest?this.recorderResults.documentAge=0:n.default.get('pageGeneratedAt')&&(this.recorderResults.documentAge=Math.max(Date.now()-n.default.get('pageGeneratedAt'),0)),this.gatherMetrics(),this.hasNecessaryPolyfills()&&this.gatherPolyfilledMetrics()):this.isRecorderLoggable=!1}}e.default=S,S.lastInputDelayEvent=void 0}),"7fa87b",["45f788","ba7a76","0a58da","5d602b","f9341a","e9b7bf","1140d4","6f10f0","b91b4c","697349","ac5421","8d30ca","5ba13b","364f02","cd9ddf","f226da"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.calculateAdditionalLoadTime=function(t,n){const s=c(u(t,n));if(0===s.length)return 0;const o=s.map((({start:t,end:n})=>n-t)).reduce(((t,n)=>t+n),0);return o/s.length},e.isALTEnabled=function(){return n.default.getBootstrap('pps_web_enable_alt')},e.measureAdditionalLoadTime=function(t,n){const s=u(t,n);c(s).forEach((({start:t,end:n})=>performance.measure('ALT',{start:t,end:n})))};var n=t(r(d[1]));const s=new Set(['fetch','xmlhttprequest','script','css','link']),o=new Set(['/tracking/jitney/logging/messages','/api/v2/marketing_event_tracking']);function u(t,n){return t.filter((t=>{if('number'!=typeof n||t.startTime<n)return!1;if(t.duration<50)return!1;if(!s.has(t.initiatorType))return!1;const{pathname:u}=new URL(t.name);return!o.has(u)}))}function c(t){const n=t.sort(((t,n)=>t.startTime-n.startTime)),s=[];return n.forEach((({startTime:t,responseEnd:n})=>{const o=s[s.length-1];!o||t>o.end?s.push({start:t,end:n}):o.end=Math.max(o.end,n)})),s}}),"8d30ca",["ba7a76","c235f8"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceImageDownloadEvent=void 0;var n={defaultProps:{schema:'com.airbnb.jitney.event.logging.Performance:PerformanceImageDownloadEvent:2.0.0',event_name:'performance_image_download'},propTypes:{}};e.PerformanceImageDownloadEvent=n,n.fullyQualifiedName='Performance.v2.PerformanceImageDownloadEvent'}),"8eb13a",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceWebPageLeadingEvent=void 0;var n={defaultProps:{schema:'com.airbnb.jitney.event.logging.Performance:PerformanceWebPageLeadingEvent:1.0.0',event_name:'performance_web_page_leading'},propTypes:{}};e.PerformanceWebPageLeadingEvent=n,n.fullyQualifiedName='Performance.v1.PerformanceWebPageLeadingEvent',n.emissionDisabled=!0}),"9b06d8",[]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(t,n){const{longTasks:c}=t,{start:u,end:o}=n;return c.filter((t=>t.startTime>=u&&(!o||t.startTime<o))).sort(((t,n)=>t.startTime-n.startTime)).map(((t,n)=>({entry:t,index:n})))}function n(t){return t.reduce(((t,n)=>t+n.entry.duration-50),0)}function c(c,u){return n(t(c,u))}function u(t){if(0!==t.length)return t.reduce(((t,n)=>n.entry.duration>t.entry.duration?n:t),t[0])}function o(n){const{ttfcp:c=0}=n;return u(t(n,{start:c}))}function s(t){if(t)return t.entry.duration-50}Object.defineProperty(e,"__esModule",{value:!0}),e.calculateInteractivityMetricsInInterval=function(c,o){const l=t(c,o);return{longTaskDurations:l.map((t=>t.entry.duration)),totalBlockingTime:n(l),numberOfBlockingTasks:l.length,longestBlockingTime:s(u(l))}},e.calculateLongestBlockingTaskIndex=function(t){return o(t)?.index},e.calculateLongestBlockingTime=function(t){return s(o(t))},e.calculateNumberOfBlockingTasks=function(t){return t.longTasks.length},e.calculateTbtPostHydrate=function(t,n){const{ttfcp:u=0}=t;if(void 0===n)return;return c(t,{start:Math.max(n,u)})},e.calculateTbtPreHydrate=function(t,n){const{ttfcp:u=0}=t;if(void 0===n)return;return c(t,{start:u,end:n})},e.calculateTotalBlockingTime=function(t){const{ttfcp:n=0}=t;return c(t,{start:n})}}),"ac5421",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLayoutShfitDebugEntry=function(o){const u=o.sources??[],h=u.filter((t=>Boolean(t.node))),s=h[h.length-1];return{value:o.value||0,startTime:Math.round(o.startTime),totalSources:u.length,sourceSample:{node:(0,t.serializeNode)(s?.node),shift:n(s?.currentRect,s?.previousRect)}}};var t=r(d[0]);function n(t,n){if(!t||!n)return{};const o=t.x-n.x,u=t.y-n.y,h=t.width-n.width,s=t.height-n.height;return{...0===o?{}:{x:o},...0===u?{}:{y:u},...0===h?{}:{width:h},...0===s?{}:{height:s}}}}),"b91b4c",["6614c9"]);
__d((function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]).default;function t(){const n=r(d[1]);return t=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),e.createJitneyPropsForImageResource=function({duration:n,encodedBodySize:t,name:o,transferSize:c}){if(!n||n<=0)return;if(!t||t<=0)return;const u=l(o);if('Unknown'===u)return;const s='ImageManager'===u?(y=o,f(y,/im_w=(\w+)/)):_(o);var y;return{image_cache_type:0===c?1:0,image_size_bytes:t,image_download_time_ms:Math.floor(n),image_policy:s,image_url:o}},e.sendJitneyEventsForImages=function(n){n.forEach((n=>{o.default.logJitneyEvent({schema:t().PerformanceImageDownloadEvent,event_data:n})}))};var o=n(r(d[2]));const c=/(?:im_w|im_q)/,u=/aki_policy=/,s=/im\/pictures\/user/;function f(n,t){if(!n)return;const o=n.match(t);return o?o[1]:void 0}function _(n){return f(n,/aki_policy=(\w+)/)}function l(n){return c.test(n)?'ImageManager':u.test(n)&&!s.test(n)?'LegacyAkamai':'Unknown'}}),"be6c80",["ba7a76","8eb13a","c8b97a"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.InteractivitySpanName=void 0,e.aggregateInteractivitySpans=function(t){const n=new Map;t.forEach((t=>{const{name:s}=t;n.has(s)||n.set(s,[]),n.get(s)?.push(t)}));const s={};return n.forEach(((t,n)=>{const c=t.reduce(((t,n)=>t+n.duration),0),T=t.reduce(((t,n)=>t+n.totalBlockingTime),0),o=t.reduce(((t,n)=>t+n.numberOfBlockingTasks),0),E=t.flatMap((t=>t.longTaskDurations)),u=16.666666666666668,N=E.map((t=>(t-u)/u)).reduce(((t,n)=>t+n),0);0!==c&&(s[n]={totalBlockingTimePerSecond:T/c*1e3,numberOfBlockingTasksPerSecond:o/c*1e3,minFrameDropsPerSecond:N/c*1e3,duration:c,count:t.length})})),s},e.beginInteractivitySpan=function(t){o(t,'BEGIN')},e.endInteractivitySpan=function(t){o(t,'END')},e.getInteractivitySpans=function(t){const T=(0,n.default)(),o=Object.values(s).reduce(((t,n)=>[...t,...T.getEntriesByName(c(n,'BEGIN'),'mark'),...T.getEntriesByName(c(n,'END'),'mark')]),[]).filter((n=>n.startTime>=t.start&&n.startTime<t.end));return o.sort(((t,n)=>t.startTime-n.startTime)),E(o,t)};var n=t(r(d[1]));let s;function c(t,n){return`PPS_SPAN_${t}_${n}`}function T(t){const n=t.endsWith('_END')?'END':'BEGIN';return{name:t.slice(9,-(n.length+1)),event:n}}function o(t,s){(0,n.default)().mark(c(t,s))}function E(t,n){const s=new Set,c=new Map,o=[];return t.forEach((t=>{const{name:E,event:u}=T(t.name);'BEGIN'===u?c.has(E)||c.set(E,t.startTime):(c.has(E)?o.push({name:E,start:c.get(E),end:t.startTime}):s.has(E)||o.push({name:E,start:n.start,end:t.startTime}),c.delete(E),s.add(E))})),c.forEach(((t,s)=>{o.push({name:s,start:t,end:n.end})})),o}e.InteractivitySpanName=s,(function(t){t.DESKTOP_MAP_INTERACTION="DESKTOP_MAP_INTERACTION",t.MOWEB_MAP_INTERACTION="MOWEB_MAP_INTERACTION",t.MOWEB_MAP_USER_INTERACTION="MOWEB_MAP_USER_INTERACTION",t.DESKTOP_MAP_USER_INTERACTION="DESKTOP_MAP_USER_INTERACTION",t.COMMUNITY_COMMITMENT_ACCEPT_TOS="COMMUNITY_COMMITMENT_ACCEPT_TOS",t.SCROLL="SCROLL"})(s||(e.InteractivitySpanName=s={}))}),"cd9ddf",["ba7a76","5d602b"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getInpContainingElement=function(n){const t=n.map((n=>{const t=n.target?.parentElement?.closest('[data-pageslot]');return t?{duration:n.duration,name:t.pageSlotName??'unknown'}:{duration:n.duration,name:'unknown'}}));return t.reduce(((n,t)=>n.duration>t.duration?n:t),{duration:0,name:'unknown'}).name}}),"f226da",[]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/cf1e.34859195fb.js.map